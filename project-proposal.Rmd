---
title: 'Final Project Proposal: COVID-19 Dataset'
author: 'The Lads: Frankie Willard, Manny Mokel, Alex Katopodis, Parker Dingman'
subtitle: Due Friday, October 9, 11:59 PM
output:
  html_document: default
  pdf_document: default
---

### Section 1- Introduction

Throughout the year 2020, the COVID-19 pandemic took the world by storm, deeply impacting every country on the planet, albeit with differing degrees of severity. As cases continued to rise, families suffered from the loss of family members, jobs, social interactions, disposable income, and more. This public health crisis became severe enough such that many countries took decisive action, shutting down their economies to prioritize the lives of the citizens of their country. Meanwhile, other countries were less strict in their policies, attempting to preserve their economy at the potential expense of their citizen’s lives. The difference in each country’s characteristics, demographics, public health capacities, and the strictness of COVID-19 policies led to vastly different effects of the pandemic on different countries. Given our personal connections to the effects of the pandemic through our lives, our friends, and our families, we wanted to determine what led to the pandemic affecting some places worse than others.  
For our final project, we will be investigating country-level COVID-19 data to determine the relationship between their characteristics and demographics to virus transmission and deaths. By analyzing the effects of different country characteristics, we seek to determine specifically which variables are associated with stringency indexes, cases per capita, and deaths per case.

Research Question:

How do a country's characteristics, geography, and  demographics impact the strictness of their COVID policy, as well as the total spread and effects of COVID-19?

Hypotheses:

We hypothesize that cases per capita will have a strong negative correlation to stringency index.

We hypothesize that deaths per case will be largely determined by the GDP per capita, the number of citizens aged 65+, hospital beds per thousand, the human development index, and columns concerning pre-existing conditions (i.e. diabetes prevalence, cardiovascular death rate, etc).

We hypothesize that the stringency index is going to vary the most by continent. We expect Europe, Asia, Oceania, and North America to have higher stringency indexes, while Africa and South America will have lower stringency indexes. 

### Section 2- Data description

We selected a data set from Our World in Data. Each observation in the data set shows relevant COVID-19 data for a particular country on a given date. The COVID-19 data in the data set includes total deaths, total cases, new deaths, new cases, total cases per million, total deaths per million, total tests, new tests, total tests per thousand, positive rate, as well as telling country numbers such as stringency index (composite measure of government strictness policy) and hospital beds per thousand. Additionally, the data set includes country characteristics including population density, median age, GDP per capita, diabetes prevalence, life expectancy, and extreme poverty rate. While the previous variables are quantitative, the data set also includes categorical variables when it comes to geography such as the country and continent. 

How The Data Was Originally Collected:
“Our World In Data” uses data from the European Center for Disease Prevention and Control (ECDC), a world leader for COVID-19 data. The ECDC has a team of epidemiologists that works every day to screen up to 500 sources to get the latest figures. These sources include ministries of health (43%),  websites of public health institutes (9%),  websites of public health institutes (6%), World Health Organization (WHO) websites,  WHO situation reports (2%), and official dashboards and interactive maps from national and international institutions (10%). The EDEC also utilizes social media accounts maintained by national authorities, ministries of health, and official media outlets (30%). These social media sources are screened and validated by the other sources mentioned previously. The data is recorded daily, and we will be using the dataset updated as of October 9, 2020 (10:30, London time).

Sources:
https://ourworldindata.org/coronavirus-source-data
https://www.ecdc.europa.eu/en/covid-19/data-collection


### Section 3- Glimpse of data

```{r glimpse-data, warning=FALSE, message=FALSE}
library(tidyverse)

covid <- read_csv("data/covid-data.csv")
#glimpse(covid)
```





### Draft Report



###Exploratory Data Analysis

```{r Scatterplot}

covid_final_date <- covid %>% 
  filter(date == "2020-10-05" & !is.na(continent)) %>% 
  print(covid_final_date)


ggplot(data = covid_final_date, mapping = aes(x = continent , y = total_cases)) + 
  geom_boxplot()


```


``` {r}

covid_stringency <- covid_final_date %>%
  filter(!is.na(stringency_index)) %>%
  arrange(desc(stringency_index)) %>%
  select(stringency_index, location) %>%
  print(covid_stringency)

# US Stringency Index is 66

```



### TO-DO
1. Create categorical variables (GDP, Stringency, Etc.)
2. Figure out which variables have the most impact on Stringency index, cases per capita, cases per death, etc.

Manny and Frankie: H_2

Alex and Parker: H_1 and H_3

H_1: We hypothesize that cases per capita will have a strong negative correlation to stringency index.

H_2: We hypothesize that deaths per case will be largely determined by the GDP per capita, the number of citizens aged 65+, hospital beds per thousand, the human development index, and columns concerning pre-existing conditions (i.e. diabetes prevalence, cardiovascular death rate, etc).

H_3: We hypothesize that the stringency index is going to vary the most by continent. We expect Europe, Asia, Oceania, and North America to have higher stringency indexes, while Africa and South America will have lower stringency indexes.


### Alex
``` {r alex}

covid <- covid %>%
  mutate(cases_per_cap = (total_cases/population),
         deaths_per_cap = (total_deaths/population))

# Barely any correlation
covid %>%
  filter(!is.na(cases_per_cap) & !is.na(stringency_index)) %>%
  summarize(cor_cases_strin = cor(stringency_index, cases_per_cap))


```

### Parker


$H_0$: The true mean stringency index of Europe, Asia, Oceania, and North America is equal to the true mean stringency index of Africa and South America

$H_1$: The true mean stringency index of Europe, Asia, Oceania, and North America is greater the true mean stringency index of Africa and South America

We are performing a CLT-based Hypothesis Test at the $\alpha$ = .05 level.

``` {r parker}
# We hypothesize that the stringency index is going to vary the most by continent. We expect Europe, Asia, Oceania, and North America to have higher stringency indexes, while Africa and South America will have lower stringency indexes.

covid_continent_str_i <- covid %>%
  group_by(continent) %>%
  filter(!is.na(stringency_index)) %>%
  count(total_str_index = sum(stringency_index)) %>%
  mutate(avg_str_index = total_str_index/n) %>%
  arrange(desc(avg_str_index)) %>%
  select(continent, avg_str_index) %>%
  print(continent, avg_str_index)

covid <- covid %>%
  filter(!is.na(stringency_index)) %>%
  mutate(grouped_continents = case_when(
    ((continent == "Africa") || (continent == "South America")) ~ "af_sa",
    ((continent == "Europe") || (continent == "Asia") || (continent == "Oceania") || (continent == "North America")) ~ "eu_as_oc_na"))
 
t.test(stringency_index ~ grouped_continents, 
       data = covid,
       mu = 0,
       var.equal = FALSE,
       alternative = "greater",
       conf.level = 0.95)

```

### Manny
``` {r manny}

```

### Frankie
``` {r frankie}

```


























